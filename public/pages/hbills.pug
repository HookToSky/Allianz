doctype html
html(lang='en')
  head
    -var i = 0
    -var list = [['1234', '10.03.2018', '797','Spain', 'Pending'],['1235','20.03.2018', '582', 'Portugal', 'Settled']]
    script(src= 'https://unpkg.com/jspdf@latest/dist/jspdf.min.js')
    script.
        var createPDF = function (hbill) {
            var doc = new jsPDF();
            console.log(hbill)
            doc.text('Hello world!',10,10);
            // doc.save('a4.pdf')
        }

    - var btnType = 'info'
    - var btnSize = 'sm'
    include header_with_tables.pug
    title Allianz ICS
  body
    #wrapper
      // Navigation
      include navbar.pug
      #page-wrapper
        .row
          .col-lg-12
            h1.page-header Handling bills
          // /.col-lg-12
        // /.row
        .row
          .col-lg-12
            .panel.panel-default
              .panel-heading
                | Handling bills
              // /.panel-heading
              .panel-body
                table#dataTables-example.table.table-striped.table-bordered.table-hover(width='100%')
                  thead
                    tr
                      th Bill #
                      th Due date
                      th Bill amount
                      th OOE
                      th Status
                      th PDF
                  tbody
                    each hbill in hbills
                      tr
                      td
                        - var url = hbill.billId
                        a(href="/ics/billhist/"+url)   #{hbill.billId}
                      td #{hbill.dueDate}
                      td #{hbill.totalAmount}
                      td #{hbill.ooe}
                      td #{hbill.status}
                      td
                        button.center-block(type='button' class='btn btn-' + btnType + ' btn-' + btnSize  name = 'create PDF' onclick = `createPDF(${JSON.stringify(hbill)})`)= 'Create PDF'
                // /.table-responsive
              // /.panel-body
            // /.panel
          // /.col-lg-12
        // /.row
      // /#page-wrapper
    // /#wrapper
    // jQuery
    include scripts_with_tables.pug
    script.
      $(document).ready(function () {
      $('#dataTables-example').DataTable({
      responsive: true
      });
      });
